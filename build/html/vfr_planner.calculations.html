
<!DOCTYPE html>

<html lang="fr" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>calculations &#8212; Documentation VFR Flight Planner </title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css?v=5283bb3d" />
    
    <script src="_static/documentation_options.js?v=d1a510d7"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/translations.js?v=e6b791cb"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="data package" href="vfr_planner.data.html" />
    <link rel="prev" title="vfr_planner package" href="vfr_planner.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="vfr_planner.data.html" title="data package"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="vfr_planner.html" title="vfr_planner package"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation VFR Flight Planner </a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Planificateur de vol VFR</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="vfr_planner.html" accesskey="U">vfr_planner package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">calculations</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="calculations">
<h1>calculations<a class="headerlink" href="#calculations" title="Lien vers cette rubrique">¶</a></h1>
<section id="sous-module">
<h2><strong>Sous-module</strong><a class="headerlink" href="#sous-module" title="Lien vers cette rubrique">¶</a></h2>
</section>
<section id="module-vfr_planner.calculations.aeroport_refuel">
<span id="aeroport-refuel-module"></span><h2>aeroport_refuel module<a class="headerlink" href="#module-vfr_planner.calculations.aeroport_refuel" title="Lien vers cette rubrique">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.aeroport_refuel.aeroport_proche">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.aeroport_refuel.</span></span><span class="sig-name descname"><span class="pre">aeroport_proche</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aircraft</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vfr_planner.calculations.aeroport_refuel.aeroport_proche" title="Lien vers cette définition">¶</a></dt>
<dd><p>Finds the closest airport.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>leg</strong> (<em>int</em>) – The first number.</p></li>
<li><p><strong>aircraft</strong> (<em>int</em>) – The second number.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-vfr_planner.calculations.navigation">
<span id="navigation-module"></span><h2>navigation module<a class="headerlink" href="#module-vfr_planner.calculations.navigation" title="Lien vers cette rubrique">¶</a></h2>
<p>Calculs de navigation pour la planification VFR</p>
<dl class="py class">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.navigation.</span></span><span class="sig-name descname"><span class="pre">NavigationCalculator</span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator" title="Lien vers cette définition">¶</a></dt>
<dd><p>Bases : <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calculateur pour les opérations de navigation aérienne</p>
<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.along_track_distance">
<span class="sig-name descname"><span class="pre">along_track_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.along_track_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance le long de la route jusqu’au point perpendiculaire.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ de la route (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ de la route (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée de la route (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée de la route (en degrés).</p></li>
<li><p><strong>lat3</strong> (<em>float</em>) – Latitude du point de référence (en degrés).</p></li>
<li><p><strong>lon3</strong> (<em>float</em>) – Longitude du point de référence (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance le long de la route en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.climb_distance">
<span class="sig-name descname"><span class="pre">climb_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">altitude_gain_ft</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">climb_rate_fpm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_speed_kn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.climb_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance de montée.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>altitude_gain_ft</strong> (<em>float</em>) – Gain d’altitude en pieds.</p></li>
<li><p><strong>climb_rate_fpm</strong> (<em>float</em>) – Taux de montée en pieds par minute.</p></li>
<li><p><strong>ground_speed_kn</strong> (<em>float</em>) – Vitesse sol en knots.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance de montée en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.cross_track_distance">
<span class="sig-name descname"><span class="pre">cross_track_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.cross_track_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance perpendiculaire d’un point à une route.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ de la route (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ de la route (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée de la route (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée de la route (en degrés).</p></li>
<li><p><strong>lat3</strong> (<em>float</em>) – Latitude du point dont on veut la distance à la route (en degrés).</p></li>
<li><p><strong>lon3</strong> (<em>float</em>) – Longitude du point dont on veut la distance à la route (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance perpendiculaire en milles nautiques (positive = à droite de la route, négative = à gauche).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.descent_distance">
<span class="sig-name descname"><span class="pre">descent_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">altitude_loss_ft</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descent_rate_fpm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_speed_kn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.descent_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance de descente.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>altitude_loss_ft</strong> (<em>float</em>) – Perte d’altitude en pieds.</p></li>
<li><p><strong>descent_rate_fpm</strong> (<em>float</em>) – Taux de descente en pieds par minute.</p></li>
<li><p><strong>ground_speed_kn</strong> (<em>float</em>) – Vitesse sol en knots.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance de descente en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.fuel_consumption">
<span class="sig-name descname"><span class="pre">fuel_consumption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">burn_rate_gph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.fuel_consumption" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la consommation de carburant.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_minutes</strong> (<em>float</em>) – Temps de vol en minutes.</p></li>
<li><p><strong>burn_rate_gph</strong> (<em>float</em>) – Taux de consommation en gallons par heure.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Consommation totale en gallons.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.great_circle_bearing">
<span class="sig-name descname"><span class="pre">great_circle_bearing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.great_circle_bearing" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule le cap initial du grand cercle entre deux points.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Cap initial en degrés (0–360).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.haversine_distance">
<span class="sig-name descname"><span class="pre">haversine_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.haversine_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance haversine entre deux points.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du premier point (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du premier point (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du second point (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du second point (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance entre les deux points en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.intermediate_point">
<span class="sig-name descname"><span class="pre">intermediate_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.intermediate_point" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule un point intermédiaire sur une route.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée (en degrés).</p></li>
<li><p><strong>fraction</strong> (<em>float</em>) – Fraction de la route (0.0 = départ, 1.0 = arrivée).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple contenant la latitude et la longitude du point intermédiaire (en degrés).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.time_to_fly">
<span class="sig-name descname"><span class="pre">time_to_fly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance_nm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_speed_kn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.time_to_fly" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule le temps de vol.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance_nm</strong> (<em>float</em>) – Distance en milles nautiques.</p></li>
<li><p><strong>ground_speed_kn</strong> (<em>float</em>) – Vitesse sol en knots.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Temps de vol en minutes.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.true_to_magnetic_heading">
<span class="sig-name descname"><span class="pre">true_to_magnetic_heading</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_heading</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.true_to_magnetic_heading" title="Lien vers cette définition">¶</a></dt>
<dd><p>Convertit un cap vrai en cap magnétique.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true_heading</strong> (<em>float</em>) – Cap vrai (en degrés).</p></li>
<li><p><strong>lat</strong> (<em>float</em>) – Latitude (en degrés).</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – Longitude (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Cap magnétique (en degrés).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.NavigationCalculator.wind_correction_angle">
<span class="sig-name descname"><span class="pre">wind_correction_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_course</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.NavigationCalculator.wind_correction_angle" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule l’angle de correction de vent et la vitesse sol.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true_course</strong> (<em>float</em>) – Cap vrai désiré (en degrés).</p></li>
<li><p><strong>wind_direction</strong> (<em>float</em>) – Direction du vent (d’où il vient, en degrés).</p></li>
<li><p><strong>wind_speed</strong> (<em>float</em>) – Vitesse du vent (en knots).</p></li>
<li><p><strong>tas</strong> (<em>float</em>) – Vitesse vraie de l’aéronef (en knots).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Un tuple contenant :
- wca : Wind Correction Angle (en degrés),
- true_heading : Cap vrai corrigé (en degrés),
- ground_speed : Vitesse sol (en knots).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, float, float]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.calculate_bearing">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.navigation.</span></span><span class="sig-name descname"><span class="pre">calculate_bearing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.calculate_bearing" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule le cap initial (bearing) entre deux points géographiques.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Cap initial entre les deux points en degrés (0-360).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.calculate_distance">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.navigation.</span></span><span class="sig-name descname"><span class="pre">calculate_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.calculate_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance entre deux points géographiques.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du premier point (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du premier point (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du second point (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du second point (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance entre les deux points en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.calculate_wind_correction">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.navigation.</span></span><span class="sig-name descname"><span class="pre">calculate_wind_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_course</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.calculate_wind_correction" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule l’angle de correction de vent, le cap vrai corrigé et la vitesse sol.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true_course</strong> (<em>float</em>) – Cap vrai désiré (en degrés).</p></li>
<li><p><strong>wind_direction</strong> (<em>float</em>) – Direction du vent (d’où vient le vent, en degrés).</p></li>
<li><p><strong>wind_speed</strong> (<em>float</em>) – Vitesse du vent (en knots).</p></li>
<li><p><strong>tas</strong> (<em>float</em>) – Vitesse vraie de l’aéronef (en knots).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple contenant :
- l’angle de correction de vent (WCA) en degrés,
- le cap vrai corrigé en degrés,
- la vitesse sol en knots.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.navigation.true_to_magnetic">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.navigation.</span></span><span class="sig-name descname"><span class="pre">true_to_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_heading</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.navigation.true_to_magnetic" title="Lien vers cette définition">¶</a></dt>
<dd><p>Convertit un cap vrai en cap magnétique selon la position géographique.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true_heading</strong> (<em>float</em>) – Cap vrai (en degrés).</p></li>
<li><p><strong>lat</strong> (<em>float</em>) – Latitude du point (en degrés).</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – Longitude du point (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Cap magnétique correspondant (en degrés).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-vfr_planner.calculations.weather">
<span id="weather-module"></span><h2>weather module<a class="headerlink" href="#module-vfr_planner.calculations.weather" title="Lien vers cette rubrique">¶</a></h2>
<p>Service météorologique pour la planification VFR</p>
<dl class="py class">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.weather.</span></span><span class="sig-name descname"><span class="pre">WeatherService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService" title="Lien vers cette définition">¶</a></dt>
<dd><p>Bases : <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Service pour obtenir les données météorologiques à partir de Tomorrow.io</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>api_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Clé API pour l’accès au service Tomorrow.io</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService.analyze_weather_for_itinerary">
<span class="sig-name descname"><span class="pre">analyze_weather_for_itinerary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">itinerary</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService.analyze_weather_for_itinerary" title="Lien vers cette définition">¶</a></dt>
<dd><p>Analyser la météo pour un itinéraire déjà calculé, avec des timings précis.</p>
<p>Cette méthode utilise les durées de vol précalculées dans les <cite>legs</cite> de l’objet <cite>Itinerary</cite>,
et récupère les conditions météo à chaque point de l’itinéraire au moment estimé de passage.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>itinerary</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Itinerary" title="vfr_planner.Itinerary"><em>Itinerary</em></a>) – Objet contenant les waypoints, les legs (segments) et l’heure de départ</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionnaire contenant les conditions météo par segment et une analyse globale</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService.analyze_weather_for_route">
<span class="sig-name descname"><span class="pre">analyze_weather_for_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waypoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aircraft_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">110</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService.analyze_weather_for_route" title="Lien vers cette définition">¶</a></dt>
<dd><p>Analyser la météo tout au long d’un itinéraire aérien en tenant compte du timing réel.</p>
<p>Cette méthode calcule les horaires de passage aux différents waypoints en fonction de
la vitesse de croisière, puis récupère la météo à chaque point en conséquence.
Une synthèse météo est ensuite générée via <cite>_analyze_weather_trends</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waypoints</strong> (<em>list</em><em>[</em><a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a><em>]</em>) – Liste ordonnée des points de passage de la route</p></li>
<li><p><strong>start_time</strong> (<em>datetime.datetime</em>) – Heure réelle de départ du vol</p></li>
<li><p><strong>aircraft_speed</strong> (<em>float</em>) – Vitesse de croisière en nœuds (knots)</p></li>
</ul>
</dd>
<dt class="field-even">Lève<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – En cas d’erreur pendant le traitement météo de l’itinéraire</p>
</dd>
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionnaire avec les conditions météo détaillées par segment et une analyse globale</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService.get_extended_forecast">
<span class="sig-name descname"><span class="pre">get_extended_forecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waypoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService.get_extended_forecast" title="Lien vers cette définition">¶</a></dt>
<dd><p>Obtenir les prévisions météorologiques étendues (par jour) pour un point.</p>
<p>Cette méthode interroge l’API Tomorrow.io avec un pas de temps journalier,
et retourne les prévisions pour le nombre de jours spécifié.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waypoint</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Point géographique pour lequel obtenir les prévisions</p></li>
<li><p><strong>days</strong> (<em>int</em>) – Nombre de jours de prévision (maximum 5 recommandé)</p></li>
</ul>
</dd>
<dt class="field-even">Lève<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – Si l’appel à l’API échoue ou les données sont invalides</p>
</dd>
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionnaire contenant les prévisions journalières ou une erreur</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService.get_weather_for_leg">
<span class="sig-name descname"><span class="pre">get_weather_for_leg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_wp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_wp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService.get_weather_for_leg" title="Lien vers cette définition">¶</a></dt>
<dd><p>Obtenir la météo pour un segment de vol avec un timing précis.</p>
<p>La position utilisée est le centre géographique du segment entre <cite>start_wp</cite> et <cite>end_wp</cite>.
Les résultats peuvent être mis en cache pour éviter des appels redondants à l’API.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_wp</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Waypoint de départ</p></li>
<li><p><strong>end_wp</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Waypoint d’arrivée</p></li>
<li><p><strong>start_time</strong> (<em>datetime.datetime</em>) – Heure exacte pour laquelle récupérer les conditions météo</p></li>
</ul>
</dd>
<dt class="field-even">Lève<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – Si la clé API n’est pas définie</p></li>
<li><p><strong>Exception</strong> – En cas d’erreur lors de la récupération météo</p></li>
</ul>
</dd>
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionnaire contenant les données météo, incluant la direction et la vitesse du vent</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService.get_weather_for_point">
<span class="sig-name descname"><span class="pre">get_weather_for_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waypoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService.get_weather_for_point" title="Lien vers cette définition">¶</a></dt>
<dd><p>Obtenir la météo pour un point spécifique à un instant donné.</p>
<p>Cette méthode est un raccourci utilisant <cite>get_weather_for_leg</cite> avec le même point en départ et arrivée.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waypoint</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Point de navigation</p></li>
<li><p><strong>time</strong> (<em>datetime.datetime</em>) – Heure pour laquelle la météo est demandée</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Données météo au point donné</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService.get_weather_summary_text">
<span class="sig-name descname"><span class="pre">get_weather_summary_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weather_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService.get_weather_summary_text" title="Lien vers cette définition">¶</a></dt>
<dd><p>Générer un résumé textuel des conditions météo.</p>
<p>Le résumé inclut la direction et la vitesse du vent, la température,
la visibilité, ainsi que les précipitations si présentes.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionnaire des données météo</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Chaîne de résumé textuel des conditions météo</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService.is_weather_suitable_for_vfr">
<span class="sig-name descname"><span class="pre">is_weather_suitable_for_vfr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weather_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService.is_weather_suitable_for_vfr" title="Lien vers cette définition">¶</a></dt>
<dd><p>Vérifier si les conditions météo sont compatibles avec un vol en VFR (Visual Flight Rules).</p>
<p>Évalue la visibilité, la couverture nuageuse, les précipitations et le vent.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Données météo analysées</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple (adapté, raisons), où “adapté” est un booléen et “raisons” une liste d’explications</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[bool, list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.WeatherService.set_api_key">
<span class="sig-name descname"><span class="pre">set_api_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vfr_planner.calculations.weather.WeatherService.set_api_key" title="Lien vers cette définition">¶</a></dt>
<dd><p>Définir ou mettre à jour la clé API utilisée pour accéder au service Tomorrow.io.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>api_key</strong> (<em>str</em>) – Nouvelle clé API</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.check_vfr_conditions">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.weather.</span></span><span class="sig-name descname"><span class="pre">check_vfr_conditions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weather_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.check_vfr_conditions" title="Lien vers cette définition">¶</a></dt>
<dd><p>Vérifier si les conditions météo sont favorables au vol à vue (VFR).</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Données météo</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple contenant un booléen (conditions favorables ou non)
et une liste d’explications/alertes</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[bool, list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.get_weather_for_leg">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.weather.</span></span><span class="sig-name descname"><span class="pre">get_weather_for_leg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_wp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_wp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.get_weather_for_leg" title="Lien vers cette définition">¶</a></dt>
<dd><p>Obtenir les données météo pour un segment de vol entre deux waypoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_wp</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Waypoint de départ</p></li>
<li><p><strong>end_wp</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Waypoint d’arrivée</p></li>
<li><p><strong>start_time</strong> (<em>datetime.datetime</em>) – Heure à laquelle le segment est survolé</p></li>
<li><p><strong>api_key</strong> (<em>str</em><em>, </em><em>optional</em>) – Clé API Tomorrow.io (optionnelle)</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Données météo pour ce segment</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.weather.get_weather_summary">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.weather.</span></span><span class="sig-name descname"><span class="pre">get_weather_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weather_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#vfr_planner.calculations.weather.get_weather_summary" title="Lien vers cette définition">¶</a></dt>
<dd><p>Générer un résumé textuel à partir des données météo.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionnaire contenant les données météo</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Résumé texte</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-vfr_planner.calculations">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-vfr_planner.calculations" title="Lien vers cette rubrique">¶</a></h2>
<p>Calculs pour la navigation et la météorologie</p>
<dl class="py class">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">NavigationCalculator</span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator" title="Lien vers cette définition">¶</a></dt>
<dd><p>Bases : <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calculateur pour les opérations de navigation aérienne</p>
<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.along_track_distance">
<span class="sig-name descname"><span class="pre">along_track_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.along_track_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance le long de la route jusqu’au point perpendiculaire.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ de la route (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ de la route (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée de la route (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée de la route (en degrés).</p></li>
<li><p><strong>lat3</strong> (<em>float</em>) – Latitude du point de référence (en degrés).</p></li>
<li><p><strong>lon3</strong> (<em>float</em>) – Longitude du point de référence (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance le long de la route en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.climb_distance">
<span class="sig-name descname"><span class="pre">climb_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">altitude_gain_ft</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">climb_rate_fpm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_speed_kn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.climb_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance de montée.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>altitude_gain_ft</strong> (<em>float</em>) – Gain d’altitude en pieds.</p></li>
<li><p><strong>climb_rate_fpm</strong> (<em>float</em>) – Taux de montée en pieds par minute.</p></li>
<li><p><strong>ground_speed_kn</strong> (<em>float</em>) – Vitesse sol en knots.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance de montée en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.cross_track_distance">
<span class="sig-name descname"><span class="pre">cross_track_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.cross_track_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance perpendiculaire d’un point à une route.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ de la route (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ de la route (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée de la route (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée de la route (en degrés).</p></li>
<li><p><strong>lat3</strong> (<em>float</em>) – Latitude du point dont on veut la distance à la route (en degrés).</p></li>
<li><p><strong>lon3</strong> (<em>float</em>) – Longitude du point dont on veut la distance à la route (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance perpendiculaire en milles nautiques (positive = à droite de la route, négative = à gauche).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.descent_distance">
<span class="sig-name descname"><span class="pre">descent_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">altitude_loss_ft</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descent_rate_fpm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_speed_kn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.descent_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance de descente.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>altitude_loss_ft</strong> (<em>float</em>) – Perte d’altitude en pieds.</p></li>
<li><p><strong>descent_rate_fpm</strong> (<em>float</em>) – Taux de descente en pieds par minute.</p></li>
<li><p><strong>ground_speed_kn</strong> (<em>float</em>) – Vitesse sol en knots.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance de descente en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.fuel_consumption">
<span class="sig-name descname"><span class="pre">fuel_consumption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_minutes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">burn_rate_gph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.fuel_consumption" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la consommation de carburant.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_minutes</strong> (<em>float</em>) – Temps de vol en minutes.</p></li>
<li><p><strong>burn_rate_gph</strong> (<em>float</em>) – Taux de consommation en gallons par heure.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Consommation totale en gallons.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.great_circle_bearing">
<span class="sig-name descname"><span class="pre">great_circle_bearing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.great_circle_bearing" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule le cap initial du grand cercle entre deux points.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Cap initial en degrés (0–360).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.haversine_distance">
<span class="sig-name descname"><span class="pre">haversine_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.haversine_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance haversine entre deux points.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du premier point (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du premier point (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du second point (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du second point (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance entre les deux points en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.intermediate_point">
<span class="sig-name descname"><span class="pre">intermediate_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.intermediate_point" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule un point intermédiaire sur une route.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée (en degrés).</p></li>
<li><p><strong>fraction</strong> (<em>float</em>) – Fraction de la route (0.0 = départ, 1.0 = arrivée).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple contenant la latitude et la longitude du point intermédiaire (en degrés).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.time_to_fly">
<span class="sig-name descname"><span class="pre">time_to_fly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance_nm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ground_speed_kn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.time_to_fly" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule le temps de vol.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance_nm</strong> (<em>float</em>) – Distance en milles nautiques.</p></li>
<li><p><strong>ground_speed_kn</strong> (<em>float</em>) – Vitesse sol en knots.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Temps de vol en minutes.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.true_to_magnetic_heading">
<span class="sig-name descname"><span class="pre">true_to_magnetic_heading</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_heading</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.true_to_magnetic_heading" title="Lien vers cette définition">¶</a></dt>
<dd><p>Convertit un cap vrai en cap magnétique.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true_heading</strong> (<em>float</em>) – Cap vrai (en degrés).</p></li>
<li><p><strong>lat</strong> (<em>float</em>) – Latitude (en degrés).</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – Longitude (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Cap magnétique (en degrés).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.NavigationCalculator.wind_correction_angle">
<span class="sig-name descname"><span class="pre">wind_correction_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_course</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.NavigationCalculator.wind_correction_angle" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule l’angle de correction de vent et la vitesse sol.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true_course</strong> (<em>float</em>) – Cap vrai désiré (en degrés).</p></li>
<li><p><strong>wind_direction</strong> (<em>float</em>) – Direction du vent (d’où il vient, en degrés).</p></li>
<li><p><strong>wind_speed</strong> (<em>float</em>) – Vitesse du vent (en knots).</p></li>
<li><p><strong>tas</strong> (<em>float</em>) – Vitesse vraie de l’aéronef (en knots).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Un tuple contenant :
- wca : Wind Correction Angle (en degrés),
- true_heading : Cap vrai corrigé (en degrés),
- ground_speed : Vitesse sol (en knots).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, float, float]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">WeatherService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vfr_planner.calculations.WeatherService" title="Lien vers cette définition">¶</a></dt>
<dd><p>Bases : <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Service pour obtenir les données météorologiques à partir de Tomorrow.io</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>api_key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Clé API pour l’accès au service Tomorrow.io</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService.analyze_weather_for_itinerary">
<span class="sig-name descname"><span class="pre">analyze_weather_for_itinerary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">itinerary</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.WeatherService.analyze_weather_for_itinerary" title="Lien vers cette définition">¶</a></dt>
<dd><p>Analyser la météo pour un itinéraire déjà calculé, avec des timings précis.</p>
<p>Cette méthode utilise les durées de vol précalculées dans les <cite>legs</cite> de l’objet <cite>Itinerary</cite>,
et récupère les conditions météo à chaque point de l’itinéraire au moment estimé de passage.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>itinerary</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Itinerary" title="vfr_planner.Itinerary"><em>Itinerary</em></a>) – Objet contenant les waypoints, les legs (segments) et l’heure de départ</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionnaire contenant les conditions météo par segment et une analyse globale</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService.analyze_weather_for_route">
<span class="sig-name descname"><span class="pre">analyze_weather_for_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waypoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aircraft_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">110</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.WeatherService.analyze_weather_for_route" title="Lien vers cette définition">¶</a></dt>
<dd><p>Analyser la météo tout au long d’un itinéraire aérien en tenant compte du timing réel.</p>
<p>Cette méthode calcule les horaires de passage aux différents waypoints en fonction de
la vitesse de croisière, puis récupère la météo à chaque point en conséquence.
Une synthèse météo est ensuite générée via <cite>_analyze_weather_trends</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waypoints</strong> (<em>list</em><em>[</em><a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a><em>]</em>) – Liste ordonnée des points de passage de la route</p></li>
<li><p><strong>start_time</strong> (<em>datetime.datetime</em>) – Heure réelle de départ du vol</p></li>
<li><p><strong>aircraft_speed</strong> (<em>float</em>) – Vitesse de croisière en nœuds (knots)</p></li>
</ul>
</dd>
<dt class="field-even">Lève<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – En cas d’erreur pendant le traitement météo de l’itinéraire</p>
</dd>
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionnaire avec les conditions météo détaillées par segment et une analyse globale</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService.get_extended_forecast">
<span class="sig-name descname"><span class="pre">get_extended_forecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waypoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.WeatherService.get_extended_forecast" title="Lien vers cette définition">¶</a></dt>
<dd><p>Obtenir les prévisions météorologiques étendues (par jour) pour un point.</p>
<p>Cette méthode interroge l’API Tomorrow.io avec un pas de temps journalier,
et retourne les prévisions pour le nombre de jours spécifié.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waypoint</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Point géographique pour lequel obtenir les prévisions</p></li>
<li><p><strong>days</strong> (<em>int</em>) – Nombre de jours de prévision (maximum 5 recommandé)</p></li>
</ul>
</dd>
<dt class="field-even">Lève<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – Si l’appel à l’API échoue ou les données sont invalides</p>
</dd>
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionnaire contenant les prévisions journalières ou une erreur</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService.get_weather_for_leg">
<span class="sig-name descname"><span class="pre">get_weather_for_leg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_wp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_wp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.WeatherService.get_weather_for_leg" title="Lien vers cette définition">¶</a></dt>
<dd><p>Obtenir la météo pour un segment de vol avec un timing précis.</p>
<p>La position utilisée est le centre géographique du segment entre <cite>start_wp</cite> et <cite>end_wp</cite>.
Les résultats peuvent être mis en cache pour éviter des appels redondants à l’API.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_wp</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Waypoint de départ</p></li>
<li><p><strong>end_wp</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Waypoint d’arrivée</p></li>
<li><p><strong>start_time</strong> (<em>datetime.datetime</em>) – Heure exacte pour laquelle récupérer les conditions météo</p></li>
</ul>
</dd>
<dt class="field-even">Lève<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – Si la clé API n’est pas définie</p></li>
<li><p><strong>Exception</strong> – En cas d’erreur lors de la récupération météo</p></li>
</ul>
</dd>
<dt class="field-odd">Renvoie<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionnaire contenant les données météo, incluant la direction et la vitesse du vent</p>
</dd>
<dt class="field-even">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService.get_weather_for_point">
<span class="sig-name descname"><span class="pre">get_weather_for_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waypoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.WeatherService.get_weather_for_point" title="Lien vers cette définition">¶</a></dt>
<dd><p>Obtenir la météo pour un point spécifique à un instant donné.</p>
<p>Cette méthode est un raccourci utilisant <cite>get_weather_for_leg</cite> avec le même point en départ et arrivée.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waypoint</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Point de navigation</p></li>
<li><p><strong>time</strong> (<em>datetime.datetime</em>) – Heure pour laquelle la météo est demandée</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Données météo au point donné</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService.get_weather_summary_text">
<span class="sig-name descname"><span class="pre">get_weather_summary_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weather_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#vfr_planner.calculations.WeatherService.get_weather_summary_text" title="Lien vers cette définition">¶</a></dt>
<dd><p>Générer un résumé textuel des conditions météo.</p>
<p>Le résumé inclut la direction et la vitesse du vent, la température,
la visibilité, ainsi que les précipitations si présentes.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionnaire des données météo</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Chaîne de résumé textuel des conditions météo</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService.is_weather_suitable_for_vfr">
<span class="sig-name descname"><span class="pre">is_weather_suitable_for_vfr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weather_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.WeatherService.is_weather_suitable_for_vfr" title="Lien vers cette définition">¶</a></dt>
<dd><p>Vérifier si les conditions météo sont compatibles avec un vol en VFR (Visual Flight Rules).</p>
<p>Évalue la visibilité, la couverture nuageuse, les précipitations et le vent.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Données météo analysées</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple (adapté, raisons), où “adapté” est un booléen et “raisons” une liste d’explications</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[bool, list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="vfr_planner.calculations.WeatherService.set_api_key">
<span class="sig-name descname"><span class="pre">set_api_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#vfr_planner.calculations.WeatherService.set_api_key" title="Lien vers cette définition">¶</a></dt>
<dd><p>Définir ou mettre à jour la clé API utilisée pour accéder au service Tomorrow.io.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>api_key</strong> (<em>str</em>) – Nouvelle clé API</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.calculate_bearing">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">calculate_bearing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.calculate_bearing" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule le cap initial (bearing) entre deux points géographiques.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du point de départ (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du point de départ (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du point d’arrivée (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du point d’arrivée (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Cap initial entre les deux points en degrés (0-360).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.calculate_distance">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">calculate_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.calculate_distance" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule la distance entre deux points géographiques.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – Latitude du premier point (en degrés).</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – Longitude du premier point (en degrés).</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – Latitude du second point (en degrés).</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – Longitude du second point (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Distance entre les deux points en milles nautiques.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.calculate_wind_correction">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">calculate_wind_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_course</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wind_speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.calculate_wind_correction" title="Lien vers cette définition">¶</a></dt>
<dd><p>Calcule l’angle de correction de vent, le cap vrai corrigé et la vitesse sol.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true_course</strong> (<em>float</em>) – Cap vrai désiré (en degrés).</p></li>
<li><p><strong>wind_direction</strong> (<em>float</em>) – Direction du vent (d’où vient le vent, en degrés).</p></li>
<li><p><strong>wind_speed</strong> (<em>float</em>) – Vitesse du vent (en knots).</p></li>
<li><p><strong>tas</strong> (<em>float</em>) – Vitesse vraie de l’aéronef (en knots).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple contenant :
- l’angle de correction de vent (WCA) en degrés,
- le cap vrai corrigé en degrés,
- la vitesse sol en knots.</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.check_vfr_conditions">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">check_vfr_conditions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weather_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.check_vfr_conditions" title="Lien vers cette définition">¶</a></dt>
<dd><p>Vérifier si les conditions météo sont favorables au vol à vue (VFR).</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Données météo</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple contenant un booléen (conditions favorables ou non)
et une liste d’explications/alertes</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[bool, list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.get_weather_for_leg">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">get_weather_for_leg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_wp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_wp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="vfr_planner.models.html#vfr_planner.models.waypoint.Waypoint" title="vfr_planner.models.waypoint.Waypoint"><span class="pre">Waypoint</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#vfr_planner.calculations.get_weather_for_leg" title="Lien vers cette définition">¶</a></dt>
<dd><p>Obtenir les données météo pour un segment de vol entre deux waypoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_wp</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Waypoint de départ</p></li>
<li><p><strong>end_wp</strong> (<a class="reference internal" href="vfr_planner.html#vfr_planner.Waypoint" title="vfr_planner.Waypoint"><em>Waypoint</em></a>) – Waypoint d’arrivée</p></li>
<li><p><strong>start_time</strong> (<em>datetime.datetime</em>) – Heure à laquelle le segment est survolé</p></li>
<li><p><strong>api_key</strong> (<em>str</em><em>, </em><em>optional</em>) – Clé API Tomorrow.io (optionnelle)</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Données météo pour ce segment</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.get_weather_summary">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">get_weather_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weather_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#vfr_planner.calculations.get_weather_summary" title="Lien vers cette définition">¶</a></dt>
<dd><p>Générer un résumé textuel à partir des données météo.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionnaire contenant les données météo</p>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Résumé texte</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vfr_planner.calculations.true_to_magnetic">
<span class="sig-prename descclassname"><span class="pre">vfr_planner.calculations.</span></span><span class="sig-name descname"><span class="pre">true_to_magnetic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">true_heading</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#vfr_planner.calculations.true_to_magnetic" title="Lien vers cette définition">¶</a></dt>
<dd><p>Convertit un cap vrai en cap magnétique selon la position géographique.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true_heading</strong> (<em>float</em>) – Cap vrai (en degrés).</p></li>
<li><p><strong>lat</strong> (<em>float</em>) – Latitude du point (en degrés).</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – Longitude du point (en degrés).</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie<span class="colon">:</span></dt>
<dd class="field-even"><p>Cap magnétique correspondant (en degrés).</p>
</dd>
<dt class="field-odd">Type renvoyé<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table des matières</a></h3>
    <ul>
<li><a class="reference internal" href="#">calculations</a><ul>
<li><a class="reference internal" href="#sous-module"><strong>Sous-module</strong></a></li>
<li><a class="reference internal" href="#module-vfr_planner.calculations.aeroport_refuel">aeroport_refuel module</a><ul>
<li><a class="reference internal" href="#vfr_planner.calculations.aeroport_refuel.aeroport_proche"><code class="docutils literal notranslate"><span class="pre">aeroport_proche()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-vfr_planner.calculations.navigation">navigation module</a><ul>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator</span></code></a><ul>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.along_track_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.along_track_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.climb_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.climb_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.cross_track_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.cross_track_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.descent_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.descent_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.fuel_consumption"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.fuel_consumption()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.great_circle_bearing"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.great_circle_bearing()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.haversine_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.haversine_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.intermediate_point"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.intermediate_point()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.time_to_fly"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.time_to_fly()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.true_to_magnetic_heading"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.true_to_magnetic_heading()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.NavigationCalculator.wind_correction_angle"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.wind_correction_angle()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.calculate_bearing"><code class="docutils literal notranslate"><span class="pre">calculate_bearing()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.calculate_distance"><code class="docutils literal notranslate"><span class="pre">calculate_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.calculate_wind_correction"><code class="docutils literal notranslate"><span class="pre">calculate_wind_correction()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.navigation.true_to_magnetic"><code class="docutils literal notranslate"><span class="pre">true_to_magnetic()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-vfr_planner.calculations.weather">weather module</a><ul>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService"><code class="docutils literal notranslate"><span class="pre">WeatherService</span></code></a><ul>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService.analyze_weather_for_itinerary"><code class="docutils literal notranslate"><span class="pre">WeatherService.analyze_weather_for_itinerary()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService.analyze_weather_for_route"><code class="docutils literal notranslate"><span class="pre">WeatherService.analyze_weather_for_route()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService.get_extended_forecast"><code class="docutils literal notranslate"><span class="pre">WeatherService.get_extended_forecast()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService.get_weather_for_leg"><code class="docutils literal notranslate"><span class="pre">WeatherService.get_weather_for_leg()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService.get_weather_for_point"><code class="docutils literal notranslate"><span class="pre">WeatherService.get_weather_for_point()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService.get_weather_summary_text"><code class="docutils literal notranslate"><span class="pre">WeatherService.get_weather_summary_text()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService.is_weather_suitable_for_vfr"><code class="docutils literal notranslate"><span class="pre">WeatherService.is_weather_suitable_for_vfr()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.WeatherService.set_api_key"><code class="docutils literal notranslate"><span class="pre">WeatherService.set_api_key()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.check_vfr_conditions"><code class="docutils literal notranslate"><span class="pre">check_vfr_conditions()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.get_weather_for_leg"><code class="docutils literal notranslate"><span class="pre">get_weather_for_leg()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.weather.get_weather_summary"><code class="docutils literal notranslate"><span class="pre">get_weather_summary()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-vfr_planner.calculations">Module contents</a><ul>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator</span></code></a><ul>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.along_track_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.along_track_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.climb_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.climb_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.cross_track_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.cross_track_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.descent_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.descent_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.fuel_consumption"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.fuel_consumption()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.great_circle_bearing"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.great_circle_bearing()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.haversine_distance"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.haversine_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.intermediate_point"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.intermediate_point()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.time_to_fly"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.time_to_fly()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.true_to_magnetic_heading"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.true_to_magnetic_heading()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.NavigationCalculator.wind_correction_angle"><code class="docutils literal notranslate"><span class="pre">NavigationCalculator.wind_correction_angle()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService"><code class="docutils literal notranslate"><span class="pre">WeatherService</span></code></a><ul>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService.analyze_weather_for_itinerary"><code class="docutils literal notranslate"><span class="pre">WeatherService.analyze_weather_for_itinerary()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService.analyze_weather_for_route"><code class="docutils literal notranslate"><span class="pre">WeatherService.analyze_weather_for_route()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService.get_extended_forecast"><code class="docutils literal notranslate"><span class="pre">WeatherService.get_extended_forecast()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService.get_weather_for_leg"><code class="docutils literal notranslate"><span class="pre">WeatherService.get_weather_for_leg()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService.get_weather_for_point"><code class="docutils literal notranslate"><span class="pre">WeatherService.get_weather_for_point()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService.get_weather_summary_text"><code class="docutils literal notranslate"><span class="pre">WeatherService.get_weather_summary_text()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService.is_weather_suitable_for_vfr"><code class="docutils literal notranslate"><span class="pre">WeatherService.is_weather_suitable_for_vfr()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.WeatherService.set_api_key"><code class="docutils literal notranslate"><span class="pre">WeatherService.set_api_key()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#vfr_planner.calculations.calculate_bearing"><code class="docutils literal notranslate"><span class="pre">calculate_bearing()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.calculate_distance"><code class="docutils literal notranslate"><span class="pre">calculate_distance()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.calculate_wind_correction"><code class="docutils literal notranslate"><span class="pre">calculate_wind_correction()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.check_vfr_conditions"><code class="docutils literal notranslate"><span class="pre">check_vfr_conditions()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.get_weather_for_leg"><code class="docutils literal notranslate"><span class="pre">get_weather_for_leg()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.get_weather_summary"><code class="docutils literal notranslate"><span class="pre">get_weather_summary()</span></code></a></li>
<li><a class="reference internal" href="#vfr_planner.calculations.true_to_magnetic"><code class="docutils literal notranslate"><span class="pre">true_to_magnetic()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="vfr_planner.html"
                          title="Chapitre précédent">vfr_planner package</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="vfr_planner.data.html"
                          title="Chapitre suivant">data package</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/vfr_planner.calculations.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="vfr_planner.data.html" title="data package"
             >suivant</a> |</li>
        <li class="right" >
          <a href="vfr_planner.html" title="vfr_planner package"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation VFR Flight Planner </a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Planificateur de vol VFR</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="vfr_planner.html" >vfr_planner package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">calculations</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 

Copyright 2025 Matthew Mayer, Gabriel Wong-Lapierre, Antoine Gingras, Richard Nguekam


Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.


THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE..
      Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>